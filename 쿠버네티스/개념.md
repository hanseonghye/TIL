# 개념

### 클러스터 

노드라고 불리는 머신들의 집합, 쿠버네티스가 관리하는 컨테이너화된 어플리케이션을 실행한다.

기본적으로 한개의 클러스터에는 master node와 worker node가 포함된다



### 컨트롤러

아래의 4개의 오브젝트중 기존 오브젝트를 생성하고 이를 관리하는 역할



### 마스터

클러스터 전체를 관리하는 컨트롤러



### 노드

컨테이너가 배포되는 머신

클러스터에 따라 가상 또는 물리적 머신일 수있다.



### 오브젝트

가장 기본적인 구성 단위

#### pod

가장 기본적인 배포단위로 컨테이너를 포함하는 단위이다.

쿠버네티스의 특징중 하나는 컨테이너를 개별적으로 하니씩 배포하는 것이 아니라, pod라는 단위로 배포하는데 pod는 하나 이상의 컨테이너를 포함한다.



- pod내의 컨테이너는 ip와 port를 공유한다.
- 두개의 컨테이너가 하나의 rpod를 통해서 배포되었을떄, localhost를 통해서 통신이 가능하다.
- pod 내에 배포된 컨테이너 간에는 디스크 볼륨을 공유할 수 있다
- 예를 들어 같은 pod내의 다른 컨테이너는 하나의 로그파일에 접근 할 수 있다.



#### volume

pod의 경우 디폴트로, 컨테이너마다 로컬 디스크를 생성해서 기동되는데, 이 로컬 디스크의 경우에는 영구적이지 못하다. 즉 컨테이너가 리스타트 되거나 새로 배포도리 때 마다, 로컬 디스크는 pod의 설정에 따라서 새롭게 정이되서 배포된다. --> 디스크에 기록된 내용이 유실된다.

데이터 베이스와 같이 영구적으로 파일을 저장해야 하는 경우에는, 컨테이너 리스타트와는 상고나없이 파일을 영속적으로 저장해야하는데, 이러한 형태의 스토리지를 볼륨이라고 한다.

pod가 기동할때, 컨테이너에 마운트해서 사용한다.

볼륨은 pod내의 컨테이너간의 공유가 가능하다.



#### service

pod를 서비스로 제공할때, 여러 pod를 합쳐서 제공한다. 말그대로 서비스?!



#### namespace

한 쿠버네티스 클러스터 내의 논리적인 분리단위

다른 name space 간의 pod라도 통신이 가능하다.

네트워크 정책을 이용하여 name space간의 통신을 막을 수 있지만 높은 수준의 분리정책을 원하는 경우 클러스터 자체를 분리하는 것을 권장한다.



name space > service > pod > volume



### 컨트롤러

오브렌지를 생성하고 관리







- https://bcho.tistory.com/1256?category=731548