# :heart: WEB :blue_heart:

### HTTP

웹 서버와 웹 클라이언트 사이에서 데이터를 주고받기 위해 사용하는 통신 방식.

TCP/IP프로토콜 위에서 작동한다.

### http 응답 코드

- 200 (OK) : 정상적인 요청에 정상적으로 응답함.

 - 206 (partial content) : 서버가 일부 콘테츠를 전송하였음.

- 301 (moved permanently) : 현재 요청한 페이지는 영구적으로 다른 주소로 이동됐음.

- 302 (moved temporarily) :현재 요청된 페이지는 임시로 다른 주소로 이동됐음.

- 304 (not modified) : 마지막 접속 요청 후 페이지가 변경되지 않았음.

- 403 (forbidden) : 요청된 주소는 접근이 막혀있음.

- 404 (not found) : 요청된 페이지를 찾을 수 없음.

- 500 (internal server error) : 서버에 오류가 생겨 해당 요청을 처리할 수 없음.



### HTTPS

HTTP Secure로 SSL( or TLS )을 통해 보호된다. 서버와 클라이언트 사이의 정보가 암호화 되어서 전송됨. 따라서 주고 받는 데이터를 중간에 도청해도 그 내영이 암호화 되어서 알아 들을 수 없음.

---

### RPC vs REST

...TODO

---

### Web Server vs Web Application Server

##### Web Server

웹 클라이언트의 요청을 받아서 요청을 처리하고 그 결과를 웹 클라이언트에게 응답함.

정적인 페이지 (html, css, js , 이미지 만드로 이루어진 페이지) 파일을 웹 클라이언트에 제공할 때 사용.

ex) Apache httpd, Nginx 



##### Web Application Server (WAS)

웹 서버로부터 동적 페이지 요청을 받아서 요청을 처리함. ( web server ----- 정적페이지 전달 -----> WAS )

was는 실행결과를 웹 서버에 전달해 주며 웹 서버는 전달받은 응답 결과를 웹 클라이언트에 전송한다.

* 동적 페이지 

  동일한 요청에도 상황에( 누가, 언제 ... ) 따라 다른 내용이 반환되는 페이지.

  ex) jsp, asp

ex) Apache Tomcat, Jeus 



was가 정적, 동적 페이지 모두 처리하는 것 보다 정적은 was가 동적은 web server가 처리하는 것이 성능에 좋다. web server는 캐시, 프록시, 프로세스 관리 등 페이지를 처리하는 것 외에도 많은 기능을 한다.

but 최근의 was는 web server보다 성능이 좋다고 한다. 다만 로드밸런싱을 위해서라면 web server와 사용해도된다??

---

### WebSocket

http의 경우 클라이언트 --> 서버로 단방향 통신만 가능하며, 한번의 통신이 완료된후 연결을 끊어 버린다. 또한 http 헤더의 경우 너무 많은 데이터를 가지고 있다. 반면 클라와 서버와의 연결을 끊지않는 웹소켓을 통해 양방향 통신이 가능해 졌으며 실시간으로 갑벼고 더 빠른 통신을 제공한다.

##### 원리

웹소켓 연결 설정을 하기 위해 먼저 클라와 서버간의 http기반의 핸드셰이크가 요청된다.

교환이 성공하면 사용된 tcp 연결 정보를 사용하여 응용프로그램 계층 프로톸놀이 http에서 웹소켓으로 프로토콜을 변경한다. 이제 이제 웹소켓 연결이 닫힐 때 까지 둘 사이에서 양방향 통신이 가능해진다.

실시간 게임, 채팅, 최신 디스플레이 등에 사용됨.

---

### Cookie

클라이언트 로컬에 클라이언트의 상태 정보를 저장하고 있는 작은 데이터 파일. 키와 값으로 이루어짐.

일정 시간동안 저장된다. --> 로그인 상태 유지에 활용

- 사용사례

  자동 로그인, 일주일 동안 보지 않기 팝업, 쇼핑몰의 장바구니

- 쿠키의 제한

  하나의 도메인당 20개의 값만 가질 수 있다.

- 만료시간을 설정할 수 있지만, 파일로 저장되기 때문에 브라우저를 종료해도 계속 정보가 남을 수 있다.

### Session

일정 시간동안 같은 브라우저로 부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 유지하는 기술 --> 웹 브라우저를 통해 웹 서버에 접속한 이후로 브라우저를 종료할 때 까지 유지할 수 있다.

클라가 요청을 보내면 서버의 엔진이 클라에게 유일한 ID를 부여함 --> 세션ID

클라이언트 또한 이 세션 ID를 가지고 있어서 쿠키를 사용해 저장한다. 클라이언트는 다시 접속 할 때 쿠키에 저장된 세션 ID를 서버에 전달함.

- 세션 사용 사례

  로그인 정보 유지

- 서버에서 접근하므로 보안 굿.

- 저장 할 수 있는 데이터의 한도 없음.

- 만료시간을 정할 수 있으며, 브라우저가 종료되면 만료시간에 상관없이 삭제된다.

세션은 서버의 자원이기 때문에 무분별하게 세션을 사용하면 서버측에서 힘이 든다! --> 쿠키를 사용하는 이유 중 하나.

### Cache

캐시는 이미지,css,js 파일등이 사용자의 브라우저에 저장되는 것! --> 한번 캐시에 저장되면 이 캐시를 참고하기 때문에 자원을 아낄 수 있다.

https://jeong-pro.tistory.com/80?category=793347

---

### 서블릿 ( Servlet )

클라이언트의 요청에 따른 결과를 자바로 짠 프로그램. 자바로 만든 CGI프로그램을 서블릿이라한다.

### CGI ( Common Gateway Interface )

:arrow_forward: 웹서버가 CGI 스크립트 ( php, jsp, asp ...)들과 통신하는 방법

:arrow_forward: 웹 서버와 프로그램 사이에 데이터를 주고 받는 규칙.

웹 서버는 클라이언트가 요청한 프로그램을 찾아서 실행하고, 수행한 후 그 결과를 웹 서버에 돌려준다. 그럼 웹 서버는 http형식에 맞춰서 웹브라우저에게 보내 클라이언트가 요청한 결과를 볼수 있게 된다. 이때 웹 서버와 프로그램 사이에서 데이터를 주고 받는 규칙을 CGI라고 한다.

### Load Balancing

하나의 인터넷 서비스가 발생하는 트래픽이 많을 때 여러대의 서버가 분산처리하여 서비의 로드율 증가, 부하량, 속도저하 등을 고려하여 적절히 분산처리하여 해결해주는 서비스





