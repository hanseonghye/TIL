# 운영체제

## 프로세스

실행 중인 프로그램. 메모리에 적재되어 CPU의 할당을 받을 수 있는 것을 말한다. 

#### 프로그램

보조기억장치에 존재하며 실행되기를 기다리는 명령어와 정적인 데이터의 묶음. 프로그램의 명령어와 정적 데이터가 메모리에 적재되면 **생명이 있는 프로세스**가 된다.

#### 프로세스 제어 블록 (PCB : Process Control Block)

특정 프로세스에 대한 중요한 정보를 저장하고 있는 운영체제의 자료구조이다. 운영체제는 프로세스를 관리하기 위해 프로세스의 생성과 동시에 고유한 PCB를 생성한다. 프로세스는 CPU를 할당받아 작업을 처리하다가도 프로세스 전환이 발생하면 진행하던 작업을 저장하고 CPU를 반환해야하는데, 이 때 작업의 진행상황을 모두 PCB에 저장한다. 그리고 다시 CPU의 할당을 받게 되면 PCB에 저장되어있던 내용을 불러와 이전에 종료됐던 시점부터 다시 작업을 수행한다.



## 스레드

프로세스의 실행단위.  한 프로세스 내에서 동작하는 여러 실행 흐름으로 프로세스 내의 주소 공간이나 자원을 공유할 수 있다. 같은 프로세스에 속한 다른 스레드와 코드, 데이터 섹션 등의 자원을 공유한다. 하나의 프로세스를 다른 수의 실행 단위로 구분하여 자원을 공유하고 자원의 생성과 관리의 중복성을 최소화하여 수행 능력을 향상시키는 것을 **멀티스레딩**이라고 한다. 이 경우 각각의 스레드는 독립적인 작업을 수행해야 하기 때문에 각자의 스택과 PC레지스터 값을 갖고 있다.

- 멀티스레딩이 가능한 것은 CPU는 한번에 하나의 명령어를 처리하는 것이 아닌 여러개의 명령어를 처리할 수 있기 때문이다.

#### 멀티 스레딩의 장점

프로세스를 이용하여 동시에 처리하던 일을 스레드로 구현할 경우 메모리 공간과 시스템 자원 소모가 줄어들게 된다. 스레드간의 통신이 필요한 경우에도 별도의 자원을 이용하는 것이아니라 전역 변수의 공간 또는 동적으로 할당된 공간이 **힙 영역**을 이용하여 데이터를 주고 받을 수 있다. 

스레드의 `context switch`는 프로세스의 `context switch`와 달리 캐시 메모리를 비울 필요가 없기 때문에 더 빠르다.

#### 멀티 스레딩의 문제점

멀티 프로세스 기반으로 프로그래밍을 할 때는 프로세스간 공유하는 자원이 없기 때문에 동일한 자원에 동시에 접근하는 일이 없지만 멀티 스레딩을 기반으로 프로그래밍을 할 때는 이부분에서 문제가 생긴다. 어떤 스레드가 다른 스레드가 사용중인 변수나 자료구조에 접근하여 엉뚱한 값을 읽어오거나 수정할 수 있게 된다. 그렇기 때문에 **동기화 작업**이 필요하다. 작업 처리 순서를 컨트롤하고 공유 자원에 대한 접근을 컨트롤 하는 것이다. 하지만 이로인해 **병목 현상**이 발생하여 성능이 저하될 가능성이 있다.

## 가상 메모리

실행중인 프로세스가 가상의 공간을 참조하여 마치 커다란 물리메모리를 갖고 있는 것처럼 사용할 수 있도록 하는것.

--> 보조 기억장치를 사용한다 던가..

**실제 메모리 주소가 아닌 가상의 메모리 주소를 주는 방식**





#https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/OS#%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4process